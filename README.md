# GeekHub

<div align="center">

![GeekHub Preview](https://assets.lizheng.me/wp-content/uploads/2026/01/geekhub-scaled.jpg)

**ç°ä»£åŒ–çš„è‡ªæ‰˜ç®¡ RSS èšåˆé˜…è¯»å™¨ï¼Œæ”¯æŒ AI æ‘˜è¦ä¸ç¿»è¯‘**

[![Next.js](https://img.shields.io/badge/Next.js-16.1-black?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.2-blue?logo=react)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue?logo=typescript)](https://www.typescriptlang.org/)
[![Supabase](https://img.shields.io/badge/Supabase-PostgreSQL-green?logo=supabase)](https://supabase.com/)

</div>

---

## âœ¨ ç‰¹æ€§

### ğŸ  å®Œå…¨è‡ªæ‰˜ç®¡
- **æ•°æ®å®Œå…¨æœ¬åœ°åŒ–**ï¼šæ‰€æœ‰æ–‡ç« å†…å®¹å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå…ƒæ•°æ®å­˜å‚¨åœ¨è‡ªæœ‰çš„ Supabase å®ä¾‹
- **éšç§ä¼˜å…ˆ**ï¼šæ— éœ€ä¾èµ–ç¬¬ä¸‰æ–¹äº‘ç«¯æœåŠ¡ï¼Œæ•°æ®å®Œå…¨ç”±ä½ è‡ªå·±æŒæ§
- **æ— å‚å•†é”å®š**ï¼šå¯éšæ—¶è¿ç§»æ•°æ®ï¼Œæ”¯æŒå¯¼å‡º

### ğŸ¤– AI å¢å¼ºåŠŸèƒ½
- **BYOM (Bring Your Own Model)**ï¼šæ”¯æŒè‡ªå®šä¹‰ OpenAI å…¼å®¹çš„ API ç«¯ç‚¹
- **æ™ºèƒ½æ‘˜è¦**ï¼šè‡ªåŠ¨ä¸ºæ–‡ç« ç”Ÿæˆ AI æ‘˜è¦
- **ä¸€é”®ç¿»è¯‘**ï¼šé›†æˆ AI ç¿»è¯‘åŠŸèƒ½ï¼Œæ‰“ç ´è¯­è¨€éšœç¢
- **é˜Ÿåˆ—ç®¡ç†**ï¼šæ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼Œé¿å…é‡å¤æ¶ˆè€— API é…é¢

### ğŸ¨ ä¼˜ç§€çš„é˜…è¯»ä½“éªŒ
- **æ²‰æµ¸å¼é˜…è¯»å™¨**ï¼šä¸“æ³¨äºå†…å®¹çš„é˜…è¯»ç•Œé¢
- **æ·±è‰²æ¨¡å¼**ï¼šæ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
- **è‡ªå®šä¹‰å­—ä½“**ï¼šå¯è°ƒèŠ‚é˜…è¯»å­—ä½“å’Œå­—å·
- **è‡ªåŠ¨ç¿»è¯‘**ï¼šå¯é€‰çš„è‡ªåŠ¨ç¿»è¯‘åŠŸèƒ½

### ğŸš€ å¼ºå¤§çš„æŠ€æœ¯ç‰¹æ€§
- **æ™ºèƒ½ä»£ç†æ£€æµ‹**ï¼šè‡ªåŠ¨æ£€æµ‹ Clash/Clash Verge ç«¯å£ï¼Œæ— ç¼æŠ“å–æµ·å¤– RSS
- **å®æ—¶æ›´æ–°**ï¼šåŸºäº SSE çš„å®æ—¶æ—¥å¿—æ¨é€å’ŒæŠ“å–è¿›åº¦æ˜¾ç¤º
- **å®šæ—¶æŠ“å–**ï¼šå†…ç½®è°ƒåº¦å™¨ï¼Œæ”¯æŒè‡ªå®šä¹‰ cron è¡¨è¾¾å¼
- **å›¾ç‰‡ä»£ç†**ï¼šç»•è¿‡é˜²ç›—é“¾ï¼Œè‡ªåŠ¨å¤„ç†å›¾ç‰‡åŠ è½½

### ğŸ“¦ æ··åˆå­˜å‚¨æ¶æ„
- **æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨**ï¼šæ–‡ç« å†…å®¹æŒ‰æ—¥æœŸåˆ†å±‚å­˜å‚¨ï¼ˆ`data/feeds/{hash}/articles/YYYY/MM/`ï¼‰
- **æ•°æ®åº“å­˜å‚¨**ï¼šSupabase ç®¡ç†ç”¨æˆ·ã€åˆ†ç±»ã€è®¢é˜…æºã€é˜…è¯»çŠ¶æ€
- **é«˜æ•ˆç´¢å¼•**ï¼šåŸºäº Hash çš„ O(1) æ–‡ä»¶æŸ¥æ‰¾

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šNext.js 16 (App Router) + React 19 + TypeScript 5
- **UI ç»„ä»¶**ï¼šRadix UI + shadcn/ui + TailwindCSS
- **åç«¯æœåŠ¡**ï¼šSupabase (PostgreSQL + Auth + RLS)
- **çŠ¶æ€ç®¡ç†**ï¼šReact Context API
- **æ•°æ®è·å–**ï¼šTanStack Query (React Query)
- **RSS è§£æ**ï¼šrss-parser + cheerio
- **AI é›†æˆ**ï¼šOpenAI SDK (æ”¯æŒè‡ªå®šä¹‰ API Base URL)

---

## ğŸ“¦ éƒ¨ç½²æŒ‡å—

### å‰ç½®è¦æ±‚

- Node.js 18+
- Supabase å®ä¾‹ï¼ˆå¯ä½¿ç”¨ [Supabase Cloud](https://supabase.com) æˆ–è‡ªæ‰˜ç®¡ï¼‰

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/geekhub.git
cd geekhub
npm install
```

### 2. é…ç½® Supabase

åœ¨ Supabase Dashboard ä¸­æ‰§è¡Œ `supabase/migrations/` ç›®å½•ä¸‹çš„ SQL è¿ç§»æ–‡ä»¶ï¼š

1. `001_initial_schema.sql` - åŸºç¡€è¡¨ç»“æ„
2. `002_rss_schema.sql` - RSS ç›¸å…³è¡¨
3. `003_core_tables.sql` - æ ¸å¿ƒä¸šåŠ¡è¡¨
4. `004_read_later_table.sql` - ç¨åé˜…è¯»åŠŸèƒ½
5. `005_add_auto_translate.sql` - è‡ªåŠ¨ç¿»è¯‘åŠŸèƒ½

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```bash
# Supabase é…ç½®ï¼ˆå¿…å¡«ï¼‰
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-role-key

# AI é…ç½®ï¼ˆå¯é€‰ï¼‰
OPENAI_API_KEY=sk-xxx
OPENAI_API_BASE=https://api.openai.com/v1  # æˆ–ä½¿ç”¨å…¼å®¹æ¥å£å¦‚ AIMixHub
OPENAI_MODEL=gpt-4o-mini
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:3000

### 5. å¯åŠ¨ RSS æŠ“å–è°ƒåº¦å™¨

```bash
# é»˜è®¤ 15 åˆ†é’ŸæŠ“å–ä¸€æ¬¡
npm run scheduler

# ç«‹å³è§¦å‘ä¸€æ¬¡æŠ“å–
npm run scheduler -- --trigger

# è‡ªå®šä¹‰ cron è¡¨è¾¾å¼ï¼ˆä¾‹å¦‚æ¯ 5 åˆ†é’Ÿï¼‰
npm run scheduler -- --cron '*/5 * * * *'
```

### 6. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# æ„å»º
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

æ¨èä½¿ç”¨ **PM2** è¿›è¡Œè¿›ç¨‹ç®¡ç†ï¼š

```bash
npm install -g pm2

# å¯åŠ¨ Web æœåŠ¡
pm2 start npm --name "geekhub-web" -- start

# å¯åŠ¨è°ƒåº¦å™¨
pm2 start npm --name "geekhub-scheduler" -- run scheduler

# ä¿å­˜ PM2 é…ç½®
pm2 save
pm2 startup
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### RSS è®¢é˜…ç®¡ç†
- æ”¯æŒæ ‡å‡† RSS/Atom feeds
- é›†æˆ RSSHub è‡ªå®šä¹‰è·¯ç”±
- åˆ†ç±»ç®¡ç†ä¸æ–‡ä»¶å¤¹ç»„ç»‡
- æ‰¹é‡å¯¼å…¥/å¯¼å‡º OPML

### é˜…è¯»ä½“éªŒ
- æ— é™æ»šåŠ¨æ–‡ç« åˆ—è¡¨
- é˜…è¯»è¿›åº¦ä¿å­˜
- æ”¶è—ä¸ç¨åé˜…è¯»
- å·²è¯»/æœªè¯»çŠ¶æ€åŒæ­¥

### AI åŠŸèƒ½
- æ–‡ç« æ‘˜è¦ç”Ÿæˆ
- å†…å®¹ç¿»è¯‘ï¼ˆæ”¯æŒå¤šè¯­è¨€ï¼‰
- å¯é…ç½® AI æ¨¡å‹ä¸å‚æ•°
- ç¿»è¯‘ç¼“å­˜æœºåˆ¶

### ç³»ç»Ÿç‰¹æ€§
- ä»£ç†è‡ªåŠ¨æ£€æµ‹ï¼ˆClash ç«¯å£ï¼‰
- å®æ—¶æŠ“å–æ—¥å¿—ç»ˆç«¯
- å›¾ç‰‡é˜²ç›—é“¾å¤„ç†
- å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯é€‚é…ï¼‰

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
geekhub/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # Next.js App Router
â”‚   â”œâ”€â”€ components/       # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/          # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ manage/      # ç®¡ç†å¯¹è¯æ¡†
â”‚   â”œâ”€â”€ contexts/        # React Context (Auth, SSE)
â”‚   â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ lib/             # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ types/           # TypeScript ç±»å‹
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/      # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ scheduler.ts     # RSS å®šæ—¶æŠ“å–è°ƒåº¦å™¨
â”œâ”€â”€ data/                # æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨ï¼ˆæ–‡ç« å†…å®¹ï¼‰
â””â”€â”€ docs/                # é¡¹ç›®æ–‡æ¡£
```

---

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæµ‹è¯•
npm test

# ç›‘è§†æ¨¡å¼
npm run test:watch

# è¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

---

## ğŸ“„ å¼€æºåè®®

[MIT License](LICENSE)

---

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - React æ¡†æ¶
- [Supabase](https://supabase.com/) - åç«¯å³æœåŠ¡
- [shadcn/ui](https://ui.shadcn.com/) - UI ç»„ä»¶åº“
- [Radix UI](https://www.radix-ui.com/) - æ— æ ·å¼ç»„ä»¶åº“

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸**

Made with â¤ï¸ by [lizheng](https://github.com/lizheng)

</div>
