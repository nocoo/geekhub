{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "rss-cache.schema.json",
  "title": "RSS Cache File",
  "description": "Schema for RSS feed cache files stored in data directory",
  "type": "object",
  "required": ["url", "fetchedAt", "feed"],
  "additionalProperties": false,
  "properties": {
    "url": {
      "type": "string",
      "format": "uri",
      "description": "The original RSS feed URL"
    },
    "fetchedAt": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp when the feed was fetched"
    },
    "feed": {
      "type": "object",
      "description": "Parsed RSS feed data",
      "required": ["items"],
      "properties": {
        "title": {
          "type": "string",
          "description": "Feed title"
        },
        "description": {
          "type": "string",
          "description": "Feed description"
        },
        "link": {
          "type": "string",
          "description": "Feed link"
        },
        "feedUrl": {
          "type": "string",
          "description": "Feed URL"
        },
        "language": {
          "type": "string",
          "description": "Feed language"
        },
        "lastBuildDate": {
          "type": "string",
          "description": "Last build date"
        },
        "items": {
          "type": "array",
          "description": "Feed items",
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "Item title"
              },
              "link": {
                "type": "string",
                "description": "Item link"
              },
              "pubDate": {
                "type": "string",
                "description": "Publication date"
              },
              "creator": {
                "type": "string",
                "description": "Item creator/author"
              },
              "content": {
                "type": "string",
                "description": "Item content"
              },
              "contentSnippet": {
                "type": "string",
                "description": "Content snippet"
              },
              "guid": {
                "type": "string",
                "description": "Unique identifier"
              },
              "isoDate": {
                "type": "string",
                "description": "ISO format date"
              },
              "categories": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Item categories"
              },
              "comments": {
                "type": "string",
                "description": "Comments URL"
              }
            }
          }
        }
      }
    }
  }
}
